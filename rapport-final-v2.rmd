---
title: "Analyse Statistique Compl√®te"
subtitle: "Relation entre Taux de Natalit√© et Taux d'Urbanisation"
author: "Mohamed Amine Mazzez"
date: "`r Sys.Date()`"
output: 
  html_document:
    toc: true
    toc_depth: 3
    toc_float: 
      collapsed: false
      smooth_scroll: true
    theme: cosmo
    highlight: tango
    code_folding: show
    df_print: paged
    fig_width: 10
    fig_height: 7
    css: style.css
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(
  echo = TRUE, 
  fig.path = "fig/",
  message = FALSE,
  warning = FALSE,
  fig.align = "center",
  comment = "#>"
)
library(knitr)
library(dplyr)
```

<style>
body {
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  line-height: 1.7;
  color: #333;
}

h1 {
  color: #1f77b4;
  border-bottom: 3px solid #1f77b4;
  padding-bottom: 10px;
  font-size: 2.2em;
}

h2 {
  color: #2c5aa0;
  margin-top: 30px;
  font-size: 1.8em;
}

h3 {
  color: #4a90e2;
  font-size: 1.3em;
}

.alert {
  padding: 15px;
  margin: 15px 0;
  border-left: 4px solid #1f77b4;
  background-color: #f0f7ff;
  border-radius: 4px;
}

.highlight-box {
  background-color: #fffacd;
  padding: 15px;
  border-radius: 5px;
  border: 1px solid #ffd700;
  margin: 15px 0;
}

code {
  background-color: #f4f4f4;
  padding: 2px 6px;
  border-radius: 3px;
  font-family: 'Courier New', monospace;
}

table {
  border-collapse: collapse;
  width: 100%;
  margin: 15px 0;
}

table th {
  background-color: #1f77b4;
  color: white;
  padding: 12px;
  text-align: left;
}

table td {
  border-bottom: 1px solid #ddd;
  padding: 10px;
}

table tr:hover {
  background-color: #f5f5f5;
}
</style>

# üìä Introduction et contexte

Ce rapport pr√©sente une **analyse statistique compl√®te** de la relation entre deux variables d√©mographiques cl√©s : le **taux de natalit√©** et le **taux d'urbanisation** pour un √©chantillon de 14 unit√©s statistiques.

<div class="alert">
**Objectifs de l'√©tude :**
1. üìà D√©crire la distribution des taux de natalit√© et d'urbanisation
2. üîó √âtudier la corr√©lation entre ces deux variables
3. üìê Ajuster et valider un mod√®le de r√©gression lin√©aire
</div>

---

# 1Ô∏è‚É£ Pr√©paration et importation des donn√©es

## Chargement des donn√©es

```{r importation, echo=TRUE}
# Configuration du r√©pertoire de travail
setwd("~/Desktop/R-stat/TP-1")

# Importation du fichier CSV
don <- read.csv2("don_mls.csv", header = TRUE, sep = ";", dec = ",")

# Simplification des noms de colonnes
names(don) <- c("natalite", "urbanisation")

# Conversion en format num√©rique
don$natalite      <- as.numeric(as.character(don$natalite))
don$urbanisation  <- as.numeric(as.character(don$urbanisation))

# Affichage des donn√©es compl√®tes
kable(don, caption = "üìã Ensemble des donn√©es utilis√©es", digits = 2)
```

<div class="highlight-box">
**‚ÑπÔ∏è Note :** Les donn√©es contiennent 14 observations avec 2 variables num√©riques chacune.
</div>

---

# 2Ô∏è‚É£ Analyse descriptive univari√©e

## Statistiques de base

```{r descriptives, echo=TRUE}
# Calcul des statistiques pour chaque variable

# Natalit√©
moy_nat <- mean(don$natalite)
med_nat <- median(don$natalite)
sd_nat  <- sd(don$natalite)
min_nat <- min(don$natalite)
max_nat <- max(don$natalite)

# Urbanisation
moy_urb <- mean(don$urbanisation)
med_urb <- median(don$urbanisation)
sd_urb  <- sd(don$urbanisation)
min_urb <- min(don$urbanisation)
max_urb <- max(don$urbanisation)

# Affichage format√©
cat("‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó\n")
cat("‚ïë     TAUX DE NATALIT√â - STATISTIQUES        ‚ïë\n")
cat("‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù\n")
cat("  Moyenne      :", round(moy_nat,2), "%\n")
cat("  M√©diane      :", round(med_nat,2), "%\n")
cat("  √âcart-type   :", round(sd_nat,2), "%\n")
cat("  Min          :", round(min_nat,2), "%\n")
cat("  Max          :", round(max_nat,2), "%\n\n")

cat("‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó\n")
cat("‚ïë   TAUX D'URBANISATION - STATISTIQUES       ‚ïë\n")
cat("‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù\n")
cat("  Moyenne      :", round(moy_urb,2), "%\n")
cat("  M√©diane      :", round(med_urb,2), "%\n")
cat("  √âcart-type   :", round(sd_urb,2), "%\n")
cat("  Min          :", round(min_urb,2), "%\n")
cat("  Max          :", round(max_urb,2), "%\n")
```

## üìä Repr√©sentations graphiques

```{r histogrammes, echo=TRUE, fig.cap="Histogrammes : Distribution des deux variables"}
par(mfrow=c(1,2), mar=c(5,4,4,2))

hist(don$natalite, 
     main="Natalit√©", 
     xlab="Taux de natalit√© (%)", 
     col="#1f77b4", 
     border="white",
     breaks=7,
     ylim=c(0,5))

hist(don$urbanisation, 
     main="Urbanisation", 
     xlab="Taux d'urbanisation (%)", 
     col="#ff7f0e", 
     border="white",
     breaks=7,
     ylim=c(0,5))

par(mfrow=c(1,1))
```

**üìå Interpr√©tation :** Le taux de natalit√© affiche une distribution √©tal√©e (16% √† 44%), tandis que l'urbanisation concentre ses valeurs entre 10% et 60%.

```{r boxplots, echo=TRUE, fig.cap="Boxplots : Analyse de la dispersion"}
par(mfrow=c(1,2), mar=c(5,4,4,2))

boxplot(don$natalite, 
        main="Natalit√©", 
        ylab="Taux (%)", 
        col="#1f77b4",
        border="#1a5a96")

boxplot(don$urbanisation, 
        main="Urbanisation", 
        ylab="Taux (%)", 
        col="#ff7f0e",
        border="#d96600")

par(mfrow=c(1,1))
```

**üìå Interpr√©tation :** Dispersion mod√©r√©e sans points aberrants. Les m√©dianes avoisinent respectivement 32% et 30%.

---

# 3Ô∏è‚É£ Analyse bivari√©e et corr√©lation

## Test de corr√©lation

```{r correlation, echo=TRUE}
# Calcul de la corr√©lation de Pearson
r_pearson <- cor(don$natalite, don$urbanisation, method="pearson")
test_cor  <- cor.test(don$natalite, don$urbanisation, method="pearson")

cat("‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó\n")
cat("‚ïë        ANALYSE DE CORR√âLATION PEARSON           ‚ïë\n")
cat("‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù\n")
cat("  r (coefficient)     :", round(r_pearson,3), "\n")
cat("  p-value             :", format(test_cor$p.value, digits=4), "\n")
cat("  IC 95%              : [", round(test_cor$conf.int[1],3), " ; ", 
    round(test_cor$conf.int[2],3), "]\n")
```

<div class="highlight-box">
**‚úì R√©sultat cl√© :** Corr√©lation **n√©gative et forte** (r = `r round(r_pearson,3)`), statistiquement significative (p < 0.05).
</div>

## üìà Nuage de points

```{r nuage_points, echo=TRUE, fig.cap="Relation bivari√©e : Natalit√© vs Urbanisation"}
plot(
  don$urbanisation, don$natalite,
  main = "Nuage de points",
  pch = 21,
  bg = "#1f77b4",
  col = "#000080",
  cex = 2.5,
  xlab = "Taux d'urbanisation (%)",
  ylab = "Taux de natalit√© (%)",
  xlim = c(0, 65),
  ylim = c(10, 50)
)
```

---

# 4Ô∏è‚É£ Mod√®le de r√©gression lin√©aire

## Ajustement du mod√®le

```{r regression, echo=TRUE}
# Cr√©ation du mod√®le lin√©aire
mod_lin <- lm(natalite ~ urbanisation, data = don)

# Extraction des r√©sultats
a <- coef(mod_lin)[1]
b <- coef(mod_lin)[2]
R2 <- summary(mod_lin)$r.squared
adj_R2 <- summary(mod_lin)$adj.r.squared
p_pente <- summary(mod_lin)$coefficients[2,4]

# Affichage format√©
cat("‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó\n")
cat("‚ïë       R√âSULTATS DE LA R√âGRESSION LIN√âAIRE         ‚ïë\n")
cat("‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù\n\n")

# R√©sum√© complet
summary(mod_lin)

cat("\n‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\n")
cat("  √âquation :", round(a,3), "+", round(b,3), "√ó urbanisation\n")
cat("  R¬≤       :", round(R2,3), "‚Üí", round(100*R2,1), "% variance expliqu√©e\n")
cat("  p-value  :", format(p_pente, digits=4), "\n")
cat("‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\n")
```

## üìê Visualisation de la r√©gression

```{r regression_graph, echo=TRUE, fig.cap="Droite de r√©gression lin√©aire ajust√©e"}
plot(don$urbanisation, don$natalite,
     pch=21,
     bg="#1f77b4",
     col="#000080",
     cex=2.5,
     xlab="Taux d'urbanisation (%)",
     ylab="Taux de natalit√© (%)",
     main="Mod√®le de r√©gression lin√©aire",
     xlim=c(0, 65),
     ylim=c(10, 50))

# Droite de r√©gression
abline(mod_lin, col="#d62728", lwd=3)

# L√©gende am√©lior√©e
legend("topright",
       legend=c(
         paste("y =", round(a,2), "+", round(b,3), "x"),
         paste("R¬≤ =", round(R2,3)),
         paste("n =", nrow(don))
       ),
       col=c("#d62728", "gray50", "gray50"),
       lwd=c(2, 1, 1),
       bty="round",
       bg="white",
       cex=1.1)
```

---

# 5Ô∏è‚É£ Diagnostics du mod√®le

## üîç Analyse des r√©sidus

```{r diagnostics_residus, echo=TRUE}
# Extraction des r√©sidus
residus <- residuals(mod_lin)
fites   <- fitted(mod_lin)

cat("‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó\n")
cat("‚ïë     ANALYSE DES R√âSIDUS DU MOD√àLE           ‚ïë\n")
cat("‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù\n\n")

summary(residus)

cat("\n  Moyenne des r√©sidus :", round(mean(residus), 8), "(‚âà 0 ‚úì)\n")
cat("  √âcart-type          :", round(sd(residus), 3), "\n")
```

## Graphiques de diagnostic d√©taill√©s

```{r diagnostics_graphiques, echo=TRUE, fig.cap="Diagnostics du mod√®le (2√ó2)"}
par(mfrow=c(2,2), mar=c(5,4,4,2))

# 1. R√©sidus vs ajust√©es
plot(fites, residus,
     main="R√©sidus vs Valeurs ajust√©es",
     xlab="Valeurs ajust√©es",
     ylab="R√©sidus",
     pch=21,
     bg="#1f77b4",
     col="darkblue",
     cex=1.5)
abline(h=0, col="#d62728", lwd=2, lty=2)
grid()

# 2. Q-Q plot
qqnorm(residus, 
       main="Q-Q plot des r√©sidus",
       pch=21,
       bg="#1f77b4",
       col="darkblue",
       cex=1.5)
qqline(residus, col="#d62728", lwd=2)
grid()

par(mfrow=c(1,1))
```

## Diagnostics complets automatiques

```{r diagnostics_auto, echo=TRUE, fig.cap="Diagnostics complets du lm (vue standard)"}
par(mfrow=c(2,2), mar=c(4,4,3,2))
plot(mod_lin, which=1:4)
par(mfrow=c(1,1))
```

<div class="highlight-box">
**‚úì Diagnostic :** 
- R√©sidus bien centr√©s ‚Üí lin√©arit√© OK
- Q-Q plot acceptable ‚Üí normalit√© satisfaisante
- Pas de points influents ‚Üí robustesse du mod√®le
</div>

---

# 6Ô∏è‚É£ Synth√®se des r√©sultats

## Tableau r√©capitulatif

```{r tableau_synthese, echo=TRUE, results='asis'}
resultats <- data.frame(
  Indicateur = c(
    "Observations (n)",
    "Corr√©lation r",
    "p-value (corr√©lation)",
    "Intercept (a)",
    "Pente (b)",
    "R¬≤",
    "R¬≤ ajust√©",
    "p-value (pente)"
  ),
  Valeur = c(
    nrow(don),
    round(r_pearson, 3),
    format(test_cor$p.value, scientific=TRUE, digits=2),
    round(a, 3),
    round(b, 3),
    round(R2, 3),
    round(adj_R2, 3),
    format(p_pente, scientific=TRUE, digits=2)
  )
)

kable(resultats, 
      caption="üìä R√©capitulatif des r√©sultats statistiques",
      align=c('l','r'))
```

---

# 7Ô∏è‚É£ Conclusion g√©n√©rale

Cette √©tude met en √©vidence une **relation n√©gative forte et statistiquement significative** entre le taux d'urbanisation et le taux de natalit√©, avec un coefficient de corr√©lation de Pearson r = `r round(r_pearson,3)` (p < 0.01). Le mod√®le de r√©gression lin√©aire simple ajust√© explique `r round(100*R2,1)`% de la variabilit√© du taux de natalit√© (R¬≤ = `r round(R2,3)`), avec une √©quation de la forme : **natalit√© = `r round(a,2)` + `r round(b,3)` √ó urbanisation**. Concr√®tement, chaque augmentation de 1 point de pourcentage du taux d'urbanisation est associ√©e √† une diminution moyenne de `r abs(round(b,3))` points du taux de natalit√©, ce qui refl√®te une tendance d√©mographique observ√©e dans de nombreux contextes o√π l'urbanisation s'accompagne d'une baisse de la f√©condit√©. Les diagnostics du mod√®le (r√©sidus centr√©s autour de z√©ro, Q-Q plot acceptable, absence de valeurs influentes majeures) confirment la validit√© de l'approche lin√©aire pour ces donn√©es. Toutefois, ces r√©sultats doivent √™tre interpr√©t√©s avec prudence compte tenu de la taille limit√©e de l'√©chantillon (n = 14) et de l'absence d'autres variables explicatives potentiellement importantes telles que le niveau de d√©veloppement √©conomique, le taux de scolarisation f√©minine ou les politiques familiales. De plus, il convient de rappeler que la corr√©lation observ√©e ne permet pas d'√©tablir un lien de causalit√© directe entre urbanisation et natalit√©, d'autres facteurs confondants pouvant intervenir dans cette relation. Pour approfondir cette analyse, il serait pertinent d'augmenter la taille de l'√©chantillon, d'int√©grer des covariables suppl√©mentaires dans un mod√®le de r√©gression multiple et d'explorer d'√©ventuelles relations non lin√©aires ou des interactions entre variables. En conclusion, bien que le mod√®le lin√©aire simple fournisse une premi√®re approximation satisfaisante de la relation entre urbanisation et natalit√© dans cet √©chantillon, une analyse plus compl√®te n√©cessiterait des donn√©es plus riches et des m√©thodes statistiques plus avanc√©es.

---

<div style="text-align: center; margin-top: 40px; padding: 20px; background-color: #f8f9fa; border-radius: 5px;">
  <h4>üìÖ Rapport g√©n√©r√© le `r format(Sys.Date(), "%d %B %Y")` avec R</h4>
  <p style="font-size: 0.9em; color: #666;">Analyse statistique compl√®te - Projet de classe</p>
</div>
